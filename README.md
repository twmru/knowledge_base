[wiki](https://github.com/twmru/knowledge_base/wiki)
# Записки тайлинистов

1. Почему тебе не нужна мозаичность
2. Что, зачем и для кого (общее описание что это)
3. Лучший WM
4. И... Что теперь? (первые шаги: сеть, звук, экраны и тд)
5. It's alive! (первая степень юзабельности)
6. А теперь накрасимся
7. Послесловие

## 1. Почему тебе не нужен оконный менеджер
Если **ты**:
- хочешь чтобы все работало из коробки
- не хочешь возится с конфигами
- хочешь настройку посредством графического интерфейса

## 2. Что, зачем и почему
### Что такое тайловый (мозаичный) WM
Для начала нужно разобраться что такое мозаичный оконный менеджер.

Wiki [гласит](https://ru.wikipedia.org/wiki/%D0%A4%D1%80%D0%B5%D0%B9%D0%BC%D0%BE%D0%B2%D1%8B%D0%B9_%D0%BE%D0%BA%D0%BE%D0%BD%D0%BD%D1%8B%D0%B9_%D0%BC%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80):
>**Фреймовый** (или **мозаичный**, **плиточный**) оконный менеджер \- это Менеджер окон, разбивающий рабочее пространство экрана на взаимно не пересекающиеся прямоугольные области — фреймы.
Каждый фрейм используется для вывода информации отдельным приложением, в противоположность традиционным менеджерам окон, которые создают области покоординатно и послойно («окна»), пытаясь следовать метафоре «рабочего стола».
Помимо полного использования всего видимого пространства, подход фреймовых оконных менеджеров позволяет минимизировать использование мыши в операциях с окнами, в основном применяя различные клавиатурные комбинации, уменьшая таким образом время, затрачиваемое на выполнение рутинных операций и повышая эффективность работы.

Так же мозаичные оконные менеджеры поставляются одни, **без** каких либо утилит, т.е никаких настроек дисплеев/звука/уведомлений/etc. максимум что с ними будет идти это средства настройки самих оконных менеджеров или панель (_только определённые оконные менеджеры имеют свою панель_).

Это именно потому что они **оконные менеджеры** они не должны ничего настраивать, они отвечают **только** за управление окнами, все остальное не их забота.

### Зачем
У каждого свои причины использовать тайловые/обычные оконные менеджеры отдельно от окружения рабочего стола, но основные причины это:
- **Ограниченность в ресурсах** (в основном ОЗУ)
- **Повышение отзывчивости и производительности системы**
- **Повышение своей продуктивности** (использовать клавиатуру как можно больше, не тратить время на размещение окон на экране)
- **Желание всё настроить под себя**
- **Желание изучать что то новое** (обилие свободного времени)
- **Стремление к минимализму**
- **Стремление сделать красивый интерфейс**
- **Ради чувства элитарности перед пользователями окружений рабочего стола**
- **Желание создать (и возможно поделится с другими) крутое и хорошо рабочее окружение рабочего стола**

### Для кого
Для тех у кого есть время и терпение на настройку и изучение документации.
Больше в принципе ничего не нужно, настройка большинства оконных менеджеров сводится к редактированию одного или нескольких конфиг файлов, следуя мануалу/документации

## 3. Лучший WM
Лучший WM это тот который ты используешь, не так ли?)

А если серьёзно то нет ничего идеального, и "лучший" понятие субъективное, пробуй и узнаешь какой для **тебя** лучший.

Вот небольшой список WM которые стоит попробовать:
- [LeftWM](https://leftwm.org/) \- главна фишка этого WM это простая и быстрая смена тем, это достигается за счёт разделения конфига самого WM и его темы, обычно темы самодостаточны, в них прописан запуск композитора (picom) и панели (например polybar). Написан на Rust. Имеет свой менеджер для тем, но темы можно ставить и вручную
- [Bspwm](https://github.com/baskerville/bspwm) \- главна фишка этого WM в том что он управляется и настраивается командой bspc и конфиг этого WM это любой скрипт на любом языке (тем самым не ограничивая настройку какими то правилами конфигурационных файлов и не привязывает настройку к какому то одному языку) который будет вызывать клиент bspwm (bspc), ну а кроме того он позволяет расставлять окна так как захочется, не ограничивая себя каким либо layout. Написан только на C. Не имеет ни панели, ни возможности задать хоткеи (сочетания клавиш), обычно в bspwm используют polybar (работает с bspwm замечательно), как панель и sxhkd как демон хоткеев
- [Herbstluftwm](https://herbstluftwm.org/) \- похож на bspwm, тоже управляется через клиент, фишка это возможность разделить один монитор (физический) на несколько _фреймов_ сделав тем самым несколько виртуальных мониторов. Написан в основном на с++
- [awesome](https://awesomewm.org/) \- популярный динамический тайловый менеджер, который настраивается на языке lua, это даёт ему большие возможности настройки, но так же требует наличия знаний языка lua (_кеп в деле_). Имеет встроенное меню для запуска приложений, свою систему виджетов, свою панель и свой системный трей. Большая часть этого WM написана на lua (что и даёт хорошие возможности настройки) но есть и части на C (подразумеваю что на C написаны части WM которые требуют максимальной производительности)
- [dwm](https://dwm.suckless.org/) \- один из самых минималистичных WM. Написан на чистом C, исходники этого WM это 3 header файла, 4 файла C и 2 файла системы сборки (make), и все. Настройка производится путём изменения одного из header файлов и последующей пересборкой. В базовой поставке функционал **очень** ограничен, добавление функционала/раскладок(layout) производится путем применения патчей (patch). Патчи доступны на странице dwm на сайте suckless. Крайне мощный оконный менеджер, но требует приличного времени на патчинг и настройку, отличается очень низким потреблением ресурсов. В базовой комплектации имеет панель
- [xmonad](https://xmonad.org/) \- оконный менеджер написанный на Haskell и настраиваемый в нем же. При изменении конфига требует пересборки (как и dwm) (и соответственно наличия компилятора _Внимание, компилятор весит ОЧЕНЬ прилично_). За счёт настройки на языке Haskell отличается отличными возможностями по настройке. Плохо работает с большинством панелей, с этим WM в основном используют xmobar
- [spectrwm](https://github.com/conformal/spectrwm/) \- оконный менеджер вдохновленный dwm и xmonad Но в отличии от dwm и xmonad настраивается в традиционным конфиг файле и не требует пересборки. Настройка относительно простая
- [Qtile](https://github.com/qtile/qtile) \- оконный менеджер который полностью написан на питоне, и настраивается в нем же (подразумеваются колосальные возможности настройки). Работает как на Xorg так и на Wayland. Имеет встроенную панель
- [i3](https://i3wm.org/) \- наверное самый популярный тайловый WM, настройка в традиционном конфиг файле, есть встроенная панель
- [Sway](https://github.com/swaywm/sway) \- WM для wayland, почти (или полностью) совместим с i3 и при отсутствии своего конфига попробует использовать конфиг i3. Так же он добавляет некоторые возможности настройки поверх того что есть в i3
- [river](https://github.com/ifreund/river) \- WM для Wayland, вдохновлён dwm и bspwm, написан на языке [zig](https://ziglang.org/). Находится в ранней стадии разработки (сам язык zig, к слову ещё не достиг релизной версии)

### 4. И... Что теперь?
Настроить WM то не так сложно, но как было написано ранее, оконный менеджер это вам не окружение стола, тут кроме оконного менеджера ничего нет (в большинстве WM), никаких вам гуй настроек для сети/звука/клавиатуры/экрана/etc.

**И что теперь делать?**

Продолжить создание своего окружения. Для этого есть куча инструментов, тк настройка это дело индивидуально то конкретных инструкций тут не будет (тк они зависят от выбранного оконного менеджера), тут будет только перечисление инструментов и утилит

#### Эмулятор терминала
Самое основное в любой \*nix системе. Тут их завались и с разным функционалом и фишками
- [st](https://st.suckless.org/) \- минималистичный терминал от авторов dwm, настраивается и расширяется так же как и dwm
- [alacritty](https://alacritty.org/) \- терминал написанный на rust, настройка в конфиге, просто быстрый терминал, который рендерит на gpu, используется по умолчанию в sway
- [foot](https://codeberg.org/dnkl/foot) \- быстрый, минималистичный и wayland native терминал с поддержкой [sixel](https://en.wikipedia.org/wiki/Sixel) и emoji
- [kitty](https://sw.kovidgoyal.net/kitty/) \- тяжёлый но весьма функциональный терминал, поддерживает свой протокол вывода изображений, использует gpu рендеринг, поддерживает Ligatures, emoji, имеет интерфейс для создания скриптов, имеет вкладки, взаимодействие с файлами по ssh и ещё 

#### Сеть
В основном для настроек сети используют NetworkManager и его графический интерфейс, для трея ещё есть applet (в Arch пакет с ним называется `network-manager-applet`)

#### Звук
Тут в зависимости какой звуковой сервер используется (или его отсутствие)

Для контроля уровня звука обычно используют
- графический `pavucontrol`
- консольный `alsamixer`

Для pipewire в качестве звукового сервера ещё может пригодится [helvum](https://gitlab.freedesktop.org/ryuukyu/helvum)

#### Дисплей
Для настройки отображения используют: 
- консольный `xrandr`
- графический `arandr`

#### Раскладка клавиатуры
Либо настраивается в [конфиге Xorg](https://wiki.archlinux.org/title/Xorg/Keyboard_configuration#Using_X_configuration_files) либо при запуске системы настраивается командой [setxkbmap](https://manpage.me/?q=setxkbmap)

#### Уведомления
Самым популярным (среди тех кто использует тайлинг) демоном уведомлений является [Dunst](https://dunst-project.org/)
Кроме него ещё используют:
- [Deadd Notification Center](https://github.com/phuhl/linux_notification_center) \- демон уведомлений с центром уведомлений
- [LXQt Notification Daemon](https://github.com/lxde/lxqt-notificationd) \- демон уведомлений из LXQt
- [mako](https://github.com/emersion/mako) \- демон уведомлений для Wayland
- [MATE Notification Daemon](https://github.com/mate-desktop/mate-notification-daemon/) \- демон уведомлений из MATE
- [Xfce Notification Daemon](https://docs.xfce.org/apps/notifyd/start) - демон уведомлений из Xfce4

#### Блокировщики экрана
Да, они тоже не поставляются в комплекте с оконными менеджерами. Чтобы блокировать экран не вручную нужен ещё демон который следит за эвентами Xorg, и при бездействии в течении N минут он запустит блокировщик, в основном используют 2
- [xidlehook](https://gitlab.com/jD91mZM2/xidlehook)
- [xautolock](https://ibiblio.org/pub/Linux/X11/screensavers/)

Сами же блокировщики:
- [slock](https://tools.suckless.org/slock) \- блокировщик экрана от авторов dwm и st
- [i3lock](https://i3wm.org/i3lock/) \- блокировщик для i3, но работает он не только на i3
- [betterlockscreen](https://github.com/pavanjadhaw/betterlockscreen) \- сам по себе не блокировщик, представляет собой скрипт который в конечном итоге вызывает i3lock
- [swaylock](https://github.com/swaywm/swaylock) \- блокировщик экрана для sway

#### Панели
Статус панели, обычно находятся сверху
- [Polybar](https://github.com/polybar/polybar) \- самая популярная панель для Xorg, обширные возможности настройки, много модулей и простая настройка
- [Waybar](https://github.com/Alexays/Waybar/) \- панель для wayland с обширными возможностями настройки
- [Yambar](https://codeberg.org/dnkl/yambar) \- панель для wayland, вдохновлённая polybar'ом 
- [Xmobar](https://hackage.haskell.org/package/xmobar) \- панель для Xorg, написана на Haskell, в основном используют вместе с xmonad

#### Polkit
Нужен для возможности повышения привилегий
- `lxqt-policykit` \- polkit из LXQt
- `lxsession` \- polkit из LXDE
- `mate-polkit` \- polkit из MATE
- `polkit-gnome` \- polkit из Gnome
- `polkit-kde-agent` \- polkit из KDE Plasma

Подробнее описано [здесь](https://wiki.archlinux.org/title/Polkit#Authentication_agents)

#### Screenshot
<!-- TODO Добавить описаний-->
Приложения для съёмки экрана:
- [flameshot](https://github.com/flameshot-org/flameshot) (имеет встроенный редактор)
- [scrot](https://github.com/resurrecting-open-source-projects/scrot)
- [gnome-screenshot](https://gitlab.gnome.org/GNOME/gnome-screenshot)
- [spectacle](https://apps.kde.org/spectacle/) (имеет встроенный редактор)
- [xfce4-screenshooter](https://docs.xfce.org/apps/screenshooter/start)
- [grim](https://github.com/emersion/grim)
- [ksnip](https://github.com/ksnip/ksnip) (имеет встроенный редактор)
- [lximage-qt](https://github.com/lxqt/lximage-qt)
- [maim](https://github.com/naelstrof/maim)

#### Файловый менеджер
Можно использовать любой понравившийся

Консольные:
- [lf](https://github.com/gokcehan/lf) \- быстрый файловый менеджер, написан на go, вдохновлён ranger'ом, имеет возможность предпросмотра
- [nnn](https://github.com/jarun/nnn) \- описание от разработчика `The fastest terminal file manager ever written.`
- [ranger](https://ranger.github.io) \- простой, vim-like файловый менеджер, с поддеркой предпросмотра содержимого файлов (изображений в том числе)

#### Управление яркостью
<!-- TODO Добавить описаний-->
Управление непосредственно яркостью
- xbacklight \- инструмент из Xorg
- [light](https://github.com/haikarainen/light)

Управление гаммой (и яркостью) в зависимости от времени суток
- [redshift](http://jonls.dk/redshift/)
- [gammastep](https://gitlab.com/chinstrap/gammastep)

#### Обои
<!-- TODO Добавить описаний-->
То чем ставить обои
- [variety](https://peterlevi.com/variety/)
- [feh](https://feh.finalrewind.org/)
- [hsetroot](https://github.com/himdel/hsetroot)
- [nitrogen](http://projects.l3ib.org/nitrogen/)

#### Видеоплееры
<!-- TODO Добавить описаний-->
- [VLC](https://www.videolan.org/vlc/)
- [MPV](https://mpv.io/)

#### Аудиоплееры
- [strawberry](https://www.strawbs.org/) \- музыкальный плеер для аудио-энтузиастов, при определённой конфигурации позволяет добиться bit-perfect звука
- [audacious](https://audacious-media-player.org/)
- [cmus](https://cmus.github.io/) \- cli музыкальный плеер

### 5. It's alive!
Настроив сам WM и выбранный софт вы получаете вполне функциональную систему, пригодную для ежедневного использования, если чего то не хватает то нужно найти, поставить и настроить (_кеп все ещё на месте_)


### 6. А теперь накрасимся
После настройки функциональной базы идёт настройка визуальной части, тут каких то рекомендаций нет, выбираете понравившиеся цвета и подстраиваете под неё ваш софт, конфигурации можно посмотреть на например на реддите r/unixporn


### 7. Послесловие
###### А есть ли смысл тут что либо писать? Как будто это кто то прочитает
